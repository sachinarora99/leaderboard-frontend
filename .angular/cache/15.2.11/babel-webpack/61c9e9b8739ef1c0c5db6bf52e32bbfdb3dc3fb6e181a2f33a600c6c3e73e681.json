{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nexport class ClaimHistoryComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.history = [];\n  }\n  ngOnInit() {\n    this.fetchHistory();\n    // Optional: refresh every 10 seconds\n    setInterval(() => this.fetchHistory(), 10000);\n  }\n  fetchHistory() {\n    this.userService.getHistory().subscribe(data => {\n      // Sort latest first\n      this.history = data.sort((a, b) => new Date(b.claimedAt).getTime() - new Date(a.claimedAt).getTime());\n    });\n  }\n  static {\n    this.ɵfac = function ClaimHistoryComponent_Factory(t) {\n      return new (t || ClaimHistoryComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClaimHistoryComponent,\n      selectors: [[\"app-claim-history\"]],\n      decls: 2,\n      vars: 0,\n      template: function ClaimHistoryComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"claim-history works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"mappings":";;AAQA,OAAM,MAAOA,qBAAqB;EAGhCC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAF/B,YAAO,GAAmB,EAAE;EAEmB;EAE/CC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;IAEnB;IACAC,WAAW,CAAC,MAAM,IAAI,CAACD,YAAY,EAAE,EAAE,KAAK,CAAC;EAC/C;EAEAA,YAAY;IACV,IAAI,CAACF,WAAW,CAACI,UAAU,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAI;MAC/C;MACA,IAAI,CAACC,OAAO,GAAGD,IAAI,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC,CAACC,OAAO,EAAE,GAAG,IAAIF,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAACC,OAAO,EAAE,CAAC;IACvG,CAAC,CAAC;EACJ;;;uBAjBWf,qBAAqB;IAAA;EAAA;;;YAArBA,qBAAqB;MAAAgB;MAAAC;MAAAC;MAAAC;QAAA;UCRlCC,yBAAG;UAAAA,oCAAoB;UAAAA,iBAAI","names":["ClaimHistoryComponent","constructor","userService","ngOnInit","fetchHistory","setInterval","getHistory","subscribe","data","history","sort","a","b","Date","claimedAt","getTime","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\leaderboard\\leaderboard-frontend\\src\\app\\components\\claim-history\\claim-history.component.ts","C:\\Users\\Admin\\Desktop\\leaderboard\\leaderboard-frontend\\src\\app\\components\\claim-history\\claim-history.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ClaimHistory } from '../../models/history';\nimport { UserService } from '../../services/user.service';\n\n@Component({\n  selector: 'app-claim-history',\n  templateUrl: './claim-history.component.html',\n})\nexport class ClaimHistoryComponent implements OnInit {\n  history: ClaimHistory[] = [];\n\n  constructor(private userService: UserService) {}\n\n  ngOnInit(): void {\n    this.fetchHistory();\n\n    // Optional: refresh every 10 seconds\n    setInterval(() => this.fetchHistory(), 10000);\n  }\n\n  fetchHistory(): void {\n    this.userService.getHistory().subscribe((data) => {\n      // Sort latest first\n      this.history = data.sort((a, b) => new Date(b.claimedAt).getTime() - new Date(a.claimedAt).getTime());\n    });\n  }\n}\n","<p>claim-history works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}