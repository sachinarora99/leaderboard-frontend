{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction UserListComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 13);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", user_r2._id);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", user_r2.name, \" \");\n  }\n}\nfunction UserListComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 14);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r1.claimedMessage, \"\\n\");\n  }\n}\nexport class UserListComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n    this.selectedUserId = '';\n    this.newUserName = '';\n    this.claimedMessage = '';\n  }\n  ngOnInit() {\n    this.fetchUsers();\n  }\n  fetchUsers() {\n    this.userService.getUsers().subscribe(res => {\n      this.users = res;\n    });\n  }\n  addUser() {\n    if (!this.newUserName.trim()) return;\n    this.userService.addUser(this.newUserName).subscribe(() => {\n      this.newUserName = '';\n      this.fetchUsers();\n    });\n  }\n  claimPoints() {\n    if (!this.selectedUserId) return;\n    this.userService.claimPoints(this.selectedUserId).subscribe(res => {\n      this.claimedMessage = `${res.user.name} claimed ${res.randomPoints} points!`;\n      this.fetchUsers(); // refresh user total points\n      setTimeout(() => this.claimedMessage = '', 3000);\n    });\n  }\n  static {\n    this.Éµfac = function UserListComponent_Factory(t) {\n      return new (t || UserListComponent)(i0.ÉµÉµdirectiveInject(i1.UserService));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: UserListComponent,\n      selectors: [[\"app-user-list\"]],\n      decls: 20,\n      vars: 4,\n      consts: [[1, \"fw-semibold\", \"mb-3\"], [1, \"mb-3\"], [\"for\", \"userSelect\", 1, \"form-label\"], [\"id\", \"userSelect\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-3\"], [1, \"btn\", \"btn-primary\", \"w-100\", 3, \"click\"], [\"class\", \"alert alert-success text-center\", 4, \"ngIf\"], [1, \"fw-bold\", \"mt-4\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Enter user name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"value\"], [1, \"alert\", \"alert-success\", \"text-center\"]],\n      template: function UserListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"h5\", 0);\n          i0.ÉµÉµtext(1, \"\\uD83C\\uDFAF Select or Add User\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(2, \"div\", 1)(3, \"label\", 2);\n          i0.ÉµÉµtext(4, \"Choose User:\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(5, \"select\", 3);\n          i0.ÉµÉµlistener(\"ngModelChange\", function UserListComponent_Template_select_ngModelChange_5_listener($event) {\n            return ctx.selectedUserId = $event;\n          });\n          i0.ÉµÉµelementStart(6, \"option\", 4);\n          i0.ÉµÉµtext(7, \"Select a user\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(8, UserListComponent_option_8_Template, 2, 2, \"option\", 5);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(9, \"div\", 6)(10, \"button\", 7);\n          i0.ÉµÉµlistener(\"click\", function UserListComponent_Template_button_click_10_listener() {\n            return ctx.claimPoints();\n          });\n          i0.ÉµÉµtext(11, \"Claim Points\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµtemplate(12, UserListComponent_div_12_Template, 2, 1, \"div\", 8);\n          i0.ÉµÉµelement(13, \"hr\");\n          i0.ÉµÉµelementStart(14, \"h6\", 9);\n          i0.ÉµÉµtext(15, \"\\u2795 Add New User\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(16, \"div\", 10)(17, \"input\", 11);\n          i0.ÉµÉµlistener(\"ngModelChange\", function UserListComponent_Template_input_ngModelChange_17_listener($event) {\n            return ctx.newUserName = $event;\n          });\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(18, \"button\", 12);\n          i0.ÉµÉµlistener(\"click\", function UserListComponent_Template_button_click_18_listener() {\n            return ctx.addUser();\n          });\n          i0.ÉµÉµtext(19, \"Add\");\n          i0.ÉµÉµelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµproperty(\"ngModel\", ctx.selectedUserId);\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngForOf\", ctx.users);\n          i0.ÉµÉµadvance(4);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.claimedMessage);\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµproperty(\"ngModel\", ctx.newUserName);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ÉµNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;IAMIA,kCAAsD;IACpDA,YACF;IAAAA,iBAAS;;;;IAF0BA,mCAAkB;IACnDA,eACF;IADEA,6CACF;;;;;IAQJA,+BAAoE;IAClEA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,uDACF;;;ACVA,OAAM,MAAOC,iBAAiB;EAM5BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAL/B,UAAK,GAAW,EAAE;IAClB,mBAAc,GAAG,EAAE;IACnB,gBAAW,GAAG,EAAE;IAChB,mBAAc,GAAG,EAAE;EAE4B;EAE/CC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAA,UAAU;IACR,IAAI,CAACF,WAAW,CAACG,QAAQ,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAI;MAC5C,IAAI,CAACC,KAAK,GAAGD,GAAG;IAClB,CAAC,CAAC;EACJ;EAEAE,OAAO;IACL,IAAI,CAAC,IAAI,CAACC,WAAW,CAACC,IAAI,EAAE,EAAE;IAC9B,IAAI,CAACT,WAAW,CAACO,OAAO,CAAC,IAAI,CAACC,WAAW,CAAC,CAACJ,SAAS,CAAC,MAAK;MACxD,IAAI,CAACI,WAAW,GAAG,EAAE;MACrB,IAAI,CAACN,UAAU,EAAE;IACnB,CAAC,CAAC;EACJ;EAEAQ,WAAW;IACT,IAAI,CAAC,IAAI,CAACC,cAAc,EAAE;IAC1B,IAAI,CAACX,WAAW,CAACU,WAAW,CAAC,IAAI,CAACC,cAAc,CAAC,CAACP,SAAS,CAAEC,GAAG,IAAI;MAClE,IAAI,CAACO,cAAc,GAAG,GAAGP,GAAG,CAACQ,IAAI,CAACC,IAAI,YAAYT,GAAG,CAACU,YAAY,UAAU;MAC5E,IAAI,CAACb,UAAU,EAAE,CAAC,CAAC;MACnBc,UAAU,CAAC,MAAO,IAAI,CAACJ,cAAc,GAAG,EAAG,EAAE,IAAI,CAAC;IACpD,CAAC,CAAC;EACJ;;;uBAjCWd,iBAAiB;IAAA;EAAA;;;YAAjBA,iBAAiB;MAAAmB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDR9BxB,6BAA6B;UAAAA,+CAAqB;UAAAA,iBAAK;UAEvDA,8BAAkB;UAC2BA,4BAAY;UAAAA,iBAAQ;UAC/DA,iCAAyE;UAA7BA;YAAA;UAAA,EAA4B;UACtEA,iCAAmC;UAAAA,6BAAa;UAAAA,iBAAS;UACzDA,wEAES;UACXA,iBAAS;UAGXA,8BAAoE;UAC5BA;YAAA,OAASyB,iBAAa;UAAA,EAAC;UAACzB,6BAAY;UAAAA,iBAAS;UAGrFA,oEAEM;UAENA,sBAAM;UAENA,8BAAyB;UAAAA,oCAAc;UAAAA,iBAAK;UAC5CA,gCAAyB;UAKrBA;YAAA;UAAA,EAAyB;UAJ3BA,iBAKE;UACFA,mCAAoD;UAApBA;YAAA,OAASyB,aAAS;UAAA,EAAC;UAACzB,oBAAG;UAAAA,iBAAS;;;UA1BpBA,eAA4B;UAA5BA,4CAA4B;UAE7CA,eAAQ;UAARA,mCAAQ;UAU/BA,eAAoB;UAApBA,yCAAoB;UAYtBA,eAAyB;UAAzBA,yCAAyB","names":["i0","UserListComponent","constructor","userService","ngOnInit","fetchUsers","getUsers","subscribe","res","users","addUser","newUserName","trim","claimPoints","selectedUserId","claimedMessage","user","name","randomPoints","setTimeout","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\leaderboard\\leaderboard-frontend\\src\\app\\components\\user-list\\user-list.component.html","C:\\Users\\Admin\\Desktop\\leaderboard\\leaderboard-frontend\\src\\app\\components\\user-list\\user-list.component.ts"],"sourcesContent":["<h5 class=\"fw-semibold mb-3\">ðŸŽ¯ Select or Add User</h5>\n\n<div class=\"mb-3\">\n  <label for=\"userSelect\" class=\"form-label\">Choose User:</label>\n  <select class=\"form-select\" id=\"userSelect\" [(ngModel)]=\"selectedUserId\">\n    <option value=\"\" disabled selected>Select a user</option>\n    <option *ngFor=\"let user of users\" [value]=\"user._id\">\n      {{ user.name }}\n    </option>\n  </select>\n</div>\n\n<div class=\"d-flex justify-content-between align-items-center mb-3\">\n  <button class=\"btn btn-primary w-100\" (click)=\"claimPoints()\">Claim Points</button>\n</div>\n\n<div *ngIf=\"claimedMessage\" class=\"alert alert-success text-center\">\n  {{ claimedMessage }}\n</div>\n\n<hr />\n\n<h6 class=\"fw-bold mt-4\">âž• Add New User</h6>\n<div class=\"input-group\">\n  <input\n    type=\"text\"\n    class=\"form-control\"\n    placeholder=\"Enter user name\"\n    [(ngModel)]=\"newUserName\"\n  />\n  <button class=\"btn btn-success\" (click)=\"addUser()\">Add</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { User } from '../../models/user';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n})\nexport class UserListComponent implements OnInit {\n  users: User[] = [];\n  selectedUserId = '';\n  newUserName = '';\n  claimedMessage = '';\n\n  constructor(private userService: UserService) {}\n\n  ngOnInit(): void {\n    this.fetchUsers();\n  }\n\n  fetchUsers(): void {\n    this.userService.getUsers().subscribe((res) => {\n      this.users = res;\n    });\n  }\n\n  addUser(): void {\n    if (!this.newUserName.trim()) return;\n    this.userService.addUser(this.newUserName).subscribe(() => {\n      this.newUserName = '';\n      this.fetchUsers();\n    });\n  }\n\n  claimPoints(): void {\n    if (!this.selectedUserId) return;\n    this.userService.claimPoints(this.selectedUserId).subscribe((res) => {\n      this.claimedMessage = `${res.user.name} claimed ${res.randomPoints} points!`;\n      this.fetchUsers(); // refresh user total points\n      setTimeout(() => (this.claimedMessage = ''), 3000);\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}