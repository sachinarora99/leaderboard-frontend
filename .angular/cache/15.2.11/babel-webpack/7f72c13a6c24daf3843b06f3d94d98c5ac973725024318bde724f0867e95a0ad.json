{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction UserListComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", user_r2._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r2.name, \" \");\n  }\n}\nfunction UserListComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.claimedMessage, \" \");\n  }\n}\nexport class UserListComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n    this.selectedUserId = '';\n    this.newUserName = '';\n    this.claimedMessage = '';\n  }\n  ngOnInit() {\n    this.fetchUsers();\n  }\n  fetchUsers() {\n    this.userService.getUsers().subscribe(res => {\n      this.users = res;\n    });\n  }\n  addUser() {\n    if (!this.newUserName.trim()) return;\n    this.userService.addUser(this.newUserName).subscribe(() => {\n      this.newUserName = '';\n      this.fetchUsers();\n    });\n  }\n  claimPoints() {\n    if (!this.selectedUserId) return;\n    this.userService.claimPoints(this.selectedUserId).subscribe(res => {\n      this.claimedMessage = `${res.user.name} claimed ${res.randomPoints} points!`;\n      this.fetchUsers(); // refresh user total points\n      setTimeout(() => this.claimedMessage = '', 3000);\n    });\n  }\n  static {\n    this.ɵfac = function UserListComponent_Factory(t) {\n      return new (t || UserListComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserListComponent,\n      selectors: [[\"app-user-list\"]],\n      decls: 20,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\", \"mb-3\"], [1, \"col-md-6\"], [1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Enter name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"value\"], [1, \"alert\", \"alert-success\"]],\n      template: function UserListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n          i0.ɵɵtext(2, \"Select User\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"select\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function UserListComponent_Template_select_ngModelChange_5_listener($event) {\n            return ctx.selectedUserId = $event;\n          });\n          i0.ɵɵelementStart(6, \"option\", 4);\n          i0.ɵɵtext(7, \"Select a user\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, UserListComponent_option_8_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 6)(10, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function UserListComponent_Template_button_click_10_listener() {\n            return ctx.claimPoints();\n          });\n          i0.ɵɵtext(11, \"Claim\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(12, UserListComponent_div_12_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelement(13, \"hr\");\n          i0.ɵɵelementStart(14, \"h5\");\n          i0.ɵɵtext(15, \"Add New User\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 9)(17, \"input\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function UserListComponent_Template_input_ngModelChange_17_listener($event) {\n            return ctx.newUserName = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function UserListComponent_Template_button_click_18_listener() {\n            return ctx.addUser();\n          });\n          i0.ɵɵtext(19, \"Add\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.selectedUserId);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.users);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.claimedMessage);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.newUserName);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;IAMQA,kCAAsD;IACpDA,YACF;IAAAA,iBAAS;;;;IAF0BA,mCAAkB;IACnDA,eACF;IADEA,6CACF;;;;;IAQNA,+BAAwD;IACtDA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,sDACF;;;ACVF,OAAM,MAAOC,iBAAiB;EAM5BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAL/B,UAAK,GAAW,EAAE;IAClB,mBAAc,GAAG,EAAE;IACnB,gBAAW,GAAG,EAAE;IAChB,mBAAc,GAAG,EAAE;EAE4B;EAE/CC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAA,UAAU;IACR,IAAI,CAACF,WAAW,CAACG,QAAQ,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAI;MAC5C,IAAI,CAACC,KAAK,GAAGD,GAAG;IAClB,CAAC,CAAC;EACJ;EAEAE,OAAO;IACL,IAAI,CAAC,IAAI,CAACC,WAAW,CAACC,IAAI,EAAE,EAAE;IAC9B,IAAI,CAACT,WAAW,CAACO,OAAO,CAAC,IAAI,CAACC,WAAW,CAAC,CAACJ,SAAS,CAAC,MAAK;MACxD,IAAI,CAACI,WAAW,GAAG,EAAE;MACrB,IAAI,CAACN,UAAU,EAAE;IACnB,CAAC,CAAC;EACJ;EAEAQ,WAAW;IACT,IAAI,CAAC,IAAI,CAACC,cAAc,EAAE;IAC1B,IAAI,CAACX,WAAW,CAACU,WAAW,CAAC,IAAI,CAACC,cAAc,CAAC,CAACP,SAAS,CAAEC,GAAG,IAAI;MAClE,IAAI,CAACO,cAAc,GAAG,GAAGP,GAAG,CAACQ,IAAI,CAACC,IAAI,YAAYT,GAAG,CAACU,YAAY,UAAU;MAC5E,IAAI,CAACb,UAAU,EAAE,CAAC,CAAC;MACnBc,UAAU,CAAC,MAAO,IAAI,CAACJ,cAAc,GAAG,EAAG,EAAE,IAAI,CAAC;IACpD,CAAC,CAAC;EACJ;;;uBAjCWd,iBAAiB;IAAA;EAAA;;;YAAjBA,iBAAiB;MAAAmB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDR9BxB,8BAA4B;UACtBA,2BAAW;UAAAA,iBAAK;UACpBA,8BAAsB;UAEUA;YAAA;UAAA,EAA4B;UACtDA,iCAAmC;UAAAA,6BAAa;UAAAA,iBAAS;UACzDA,wEAES;UACXA,iBAAS;UAEXA,8BAAsB;UACYA;YAAA,OAASyB,iBAAa;UAAA,EAAC;UAACzB,sBAAK;UAAAA,iBAAS;UAI1EA,oEAEM;UAENA,sBAAM;UAENA,2BAAI;UAAAA,6BAAY;UAAAA,iBAAK;UACrBA,+BAA8B;UAK1BA;YAAA;UAAA,EAAyB;UAJ3BA,iBAKE;UACFA,mCAAoD;UAApBA;YAAA,OAASyB,aAAS;UAAA,EAAC;UAACzB,oBAAG;UAAAA,iBAAS;;;UA1BlCA,eAA4B;UAA5BA,4CAA4B;UAE7BA,eAAQ;UAARA,mCAAQ;UAUjCA,eAAoB;UAApBA,yCAAoB;UAYtBA,eAAyB;UAAzBA,yCAAyB","names":["i0","UserListComponent","constructor","userService","ngOnInit","fetchUsers","getUsers","subscribe","res","users","addUser","newUserName","trim","claimPoints","selectedUserId","claimedMessage","user","name","randomPoints","setTimeout","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\leaderboard\\leaderboard-frontend\\src\\app\\components\\user-list\\user-list.component.html","C:\\Users\\Admin\\Desktop\\leaderboard\\leaderboard-frontend\\src\\app\\components\\user-list\\user-list.component.ts"],"sourcesContent":["<div class=\"container mt-4\">\n  <h4>Select User</h4>\n  <div class=\"row mb-3\">\n    <div class=\"col-md-6\">\n      <select class=\"form-select\" [(ngModel)]=\"selectedUserId\">\n        <option value=\"\" disabled selected>Select a user</option>\n        <option *ngFor=\"let user of users\" [value]=\"user._id\">\n          {{ user.name }}\n        </option>\n      </select>\n    </div>\n    <div class=\"col-md-3\">\n      <button class=\"btn btn-primary\" (click)=\"claimPoints()\">Claim</button>\n    </div>\n  </div>\n\n  <div *ngIf=\"claimedMessage\" class=\"alert alert-success\">\n    {{ claimedMessage }}\n  </div>\n\n  <hr />\n\n  <h5>Add New User</h5>\n  <div class=\"input-group mb-3\">\n    <input\n      type=\"text\"\n      class=\"form-control\"\n      placeholder=\"Enter name\"\n      [(ngModel)]=\"newUserName\"\n    />\n    <button class=\"btn btn-success\" (click)=\"addUser()\">Add</button>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { User } from '../../models/user';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n})\nexport class UserListComponent implements OnInit {\n  users: User[] = [];\n  selectedUserId = '';\n  newUserName = '';\n  claimedMessage = '';\n\n  constructor(private userService: UserService) {}\n\n  ngOnInit(): void {\n    this.fetchUsers();\n  }\n\n  fetchUsers(): void {\n    this.userService.getUsers().subscribe((res) => {\n      this.users = res;\n    });\n  }\n\n  addUser(): void {\n    if (!this.newUserName.trim()) return;\n    this.userService.addUser(this.newUserName).subscribe(() => {\n      this.newUserName = '';\n      this.fetchUsers();\n    });\n  }\n\n  claimPoints(): void {\n    if (!this.selectedUserId) return;\n    this.userService.claimPoints(this.selectedUserId).subscribe((res) => {\n      this.claimedMessage = `${res.user.name} claimed ${res.randomPoints} points!`;\n      this.fetchUsers(); // refresh user total points\n      setTimeout(() => (this.claimedMessage = ''), 3000);\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}